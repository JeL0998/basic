"use client"; import {useEffect} from "react"; export default function ViewProgress(){useEffect(()=>{const bar=document.getElementById("progress");const root=(document.getElementById("snap") as HTMLElement)||document.documentElement;const on=()=>{const t=root.scrollTop,h=root.scrollHeight-(root.clientHeight||window.innerHeight),p=Math.max(0,Math.min(1,t/(h||1)));if(bar) bar.style.transform=`scaleX(${p})`};on();root.addEventListener("scroll",on,{passive:true} as any);return ()=>root.removeEventListener("scroll",on as any)},[]);return <div id="progress" style={{transformOrigin:"0 0"}} className="fixed top-0 left-0 right-0 h-0.5 bg-[rgb(var(--brand))] scale-x-0 z-50"/>;}
